(()=>{(function(){"use strict";function a(){if(!document.querySelector(".post-single"))return;const e=document.createElement("div");e.className="reading-progress",document.body.prepend(e);function t(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t,s=window.scrollY,o=s/n*100;e.style.width=`${Math.min(o,100)}%`}window.addEventListener("scroll",t,{passive:!0}),t()}function m(){const e=document.createElement("button");e.className="scroll-to-top",e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" /></svg>',e.setAttribute("aria-label","Voltar ao topo"),document.body.appendChild(e);function t(){window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")}e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",t,{passive:!0}),t()}function n(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.classList.add("loaded"),t.unobserve(n))}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}function s(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t==="#")return;const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,t))})})}function o(){if("IntersectionObserver"in window){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1});document.querySelectorAll(".fade-in-on-scroll").forEach(t=>{e.observe(t)}),document.querySelectorAll(".post-card").forEach((e,t)=>{e.style.setProperty("--index",t)})}}function i(){document.querySelectorAll("pre code").forEach(e=>{const n=e.parentElement,t=document.createElement("button");t.className="code-copy-button",t.textContent="Copiar",t.setAttribute("aria-label","Copiar c\xF3digo"),n.style.position="relative",n.appendChild(t),t.addEventListener("click",async()=>{const n=e.textContent;try{await navigator.clipboard.writeText(n),t.textContent="✓ Copiado!",t.style.background="#10b981",setTimeout(()=>{t.textContent="Copiar",t.style.background="rgba(66, 133, 244, 0.8)"},2e3)}catch{t.textContent="Erro",setTimeout(()=>{t.textContent="Copiar"},2e3)}})})}function t(){document.querySelectorAll('a[href^="http"]').forEach(e=>{e.href.includes(window.location.hostname)||(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})}function r(){const e=document.querySelector(".toc");if(!e)return;const n=document.querySelectorAll(".post-content h2, .post-content h3"),t=e.querySelectorAll("a");if("IntersectionObserver"in window){const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target.id;t.forEach(e=>{e.getAttribute("href")===`#${n}`&&(t.forEach(e=>e.classList.remove("active")),e.classList.add("active"))})}})},{rootMargin:"-100px 0px -66%"});n.forEach(t=>e.observe(t))}}function c(){const e=document.querySelectorAll("img");e.forEach((e,t)=>{t>3&&(e.loading="lazy")})}function l(){const e=document.querySelector("#theme-toggle");if(!e)return;e.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");const e=document.body.classList.contains("dark-mode");localStorage.setItem("theme",e?"dark":"light")});const t=localStorage.getItem("theme");t==="dark"&&document.body.classList.add("dark-mode")}function d(){const e=document.querySelectorAll(".share-button");e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.dataset.url||window.location.href,o=e.dataset.title||document.title,i=e.dataset.platform;let n="";switch(i){case"twitter":n=`https://twitter.com/intent/tweet?text=${encodeURIComponent(o)}&url=${encodeURIComponent(s)}`;break;case"facebook":n=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`;break;case"linkedin":n=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(s)}`;break;case"whatsapp":n=`https://wa.me/?text=${encodeURIComponent(o+" "+s)}`;break}n&&window.open(n,"_blank","width=600,height=400")})})}function u(){document.querySelectorAll('a[href^="http"]').forEach(e=>{e.href.includes(window.location.hostname)||e.addEventListener("click",t=>{typeof gtag!="undefined"&&gtag("event","click",{event_category:"outbound",event_label:e.href,transport_type:"beacon"})})})}function h(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function e(){a(),m(),n(),s(),o(),i(),t(),r(),c(),l(),d(),u(),console.log("✨ Vocaliza Blog - Interactive enhancements loaded")}h()})()})()